<!DOCTYPE html>
<html lang="ja">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width">
	<title>ナンプレ問題自動作成</title>
	<link rel="icon" href="https://birdwatcheryt.github.io/image/icon.ico">
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Inconsolata:wght@500&display=swap" rel="stylesheet">
	<style>

	table{
		border-collapse:collapse;
		font-family: 'Inconsolata', monospace;
		font-size:20pt;
	}

	th,td{
		border: solid 1px;
		width: 30px;
		height: 30px;
		text-align: center;
	}

	</style>
</head>

<body>

<h1>ナンプレ問題自動作成</h1>
<p>m x nブロックをn x m個並べた問題を作成します. (m=n=3が通常です)</p>
<p>縦, 横, m x nブロックの数字は重複してはいけません. </p>
<p>※JavaScriptを使用しています. 極端にマシンスペックが低いとうまく動かないかもしれません. このスクリプトで問題が生じても一切の責任を負いません. </p>
m=
<select id="m">
	<option value="1">1</option>
	<option value="2">2</option>
	<option value="3" selected>3</option>
	<!-- <option value="4">4</option> -->
</select>
n=
<select id="n">
	<option value="1">1</option>
	<option value="2">2</option>
	<option value="3" selected>3</option>
	<!-- <option value="4">4</option> -->
</select>
level=
<select id="level">
	<option value="1" selected>1</option>
	<option value="2">2</option>
	<option value="3">3</option>
	<option value="4">4</option>
	<option value="5">5</option>
</select>
<input type="button" value="問題作成" onclick="on_click();"/>

<div id="output"></div>

<script src="sudoku.js"></script>
<script>
function on_click(){
	const m = Number(document.getElementById("m").value);
	const n = Number(document.getElementById("n").value);
	const level = Number(document.getElementById("level").value);

	const try_num=m*n;
	let board=create_problem(m, n, try_num, level);

	let target = document.getElementById("output");
	target.innerHTML="<h2>問題</h2>";
	target.innerHTML+=print_board(board,m,n);
	target.innerHTML+=("<h2>解答</h2>");
	for (let ans of solve(board,m,n)){
		target.innerHTML+=print_board(ans,m,n);
	}
}

</script>

</body>
</html>
